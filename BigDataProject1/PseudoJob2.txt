Creare file di configurazione dei prezzi per ciascun cibo

Class MonthEntry
	- month	:String;
	- sum	:Integer;
	
	getters e setters...

map(key, row)
	costs = loadFromFile("costs.properties")
	month = getMonth(row)
	products = splitProducts(row)
	foreach product in products
		Emit(product, new MonthEntry(month, costs.getProductCost(product))

reduce(product, monthEntries[])
	map = initMap(); //key: monthName; value: monthEntry object
	
	monthNumber = 1;
	
	while (monthNumber <= 12)
		map.push("2015-"+monthNumber, new MonthEntry("2015-"+monthNumber, 0))
	
	foreach entry in monthEntries
		monthNumber = entry.getMonth()
		month = map.get(monthNumber)
		
		if (month != NIL)
			oldSum = month.getSum()
			newSum = oldSum + entry.getSum()
			month.setSum(newSum)
		else //in teoria l'else non dovrebbe essere mai raggiunto, perchè c'è un entry per ogni mese. Codice difensivo
			month = new MonthEntry("2015-"+monthNumber, entry.getSum())
			map.push(monthName, month)	
	
	//A questo punto abbiamo i conteggi di tutti i mesi contenuti nell'array monthEntries per il prodotto corrente
	monthAndSums = map.getArray()
	
	
	Emit(product, monthAndSums)
